<link rel="stylesheet" href="/css/homePage.css" />
<link rel="stylesheet" href="/css/addFormPage.css" />
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.min.css"
/>
<div class="three">
  <h1><%= projectName %> Project Issue</h1>
  <a href="/project/viewProjectIssueForm/<%= projectId %>">
    <button class="buttonAdd buttonBlue">Create Issue</button></a
  >
</div>
<form class="filter-form" action="/project/viewProject/<%= projectId %>" method="get">
  <div class="select-box">
    <label for="author">Filter by Author:</label>
    <select name="author" class="author-select" id="author">
           <% projectAuthor.forEach((value, index) => { %>
                          <option value="<%= value%>"><%= value%></option>
<% }); %>
      <!-- Add more options for authors as needed -->
    </select>
  </div>
  <div class="select-box">
    <label for="labels">Filter by Label(s):</label>
    <select name="label" class="label-select" id="labels" multiple>
           <% projectLabel.forEach((value, index) => { %>
                          <option value="<%= value%>"><%= value%></option>
<% }); %>
      <!-- Add more options for labels as needed -->
    </select>
  </div>
  <div class="input-box">
        <label for="labels">Filter by Title:</label>
    <input type="text" placeholder="Filter by Title" name="title" id="title" />
  </div>
  <div class="input-box" >
        <label for="labels">Filter by Label:</label>
    <input placeholder="Filter by Description" type="text" name="description" id="description" />
  </div>

  <button class="button buttonBlue" type="submit">Filter</button>
</form>
<a href="/project/viewProject/<%= projectId %>">
    <button style="float: right; margin-right: 2vw;" class="button buttonRed" type="submit">Reset</button>
</a>

<table>
  <tr>
    <th>Title</th>
    <th>Description</th>
    <th>Author</th>
    <th>Label</th>
    <th>Action</th>
  </tr>
  <% projectIssue.forEach((issue, index) => { %>
  <tr>
    <td><%= issue.title %></td>
    <td><%= issue.description %></td>
    <td><%= issue.author %></td>
    <td><%= issue.label %></td>
    <td>
      <a href="/project/deleteProjectIssue/<%= index %>"
        ><button class="button buttonRed">Delete</button></a
      >
    </td>
  </tr>
  <% }); %>
</table>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.min.js"></script>

<script>
  $(document).ready(function () {
    $(".label-select").chosen();
  });
  $(document).ready(function () {
    $(".author-select").chosen();
  });
</script>
